---
title: 网络技术与应用 第八章 路由器与路由选择
author: tinsir888
date: 2021/11/23
cover: /img/nettech.jpg
tags:
  - 笔记
  - 计算机网络
categories:
  - 南开计科
  - 网络技术与应用课程笔记
abbrlink: eb4989da
---
# 基本概念

路由选择：选择一条路径发送数据报的过程

路由器：进行路由选择的计算机

IP互联网：运行IP协议，由路由器将多个网络相互联接而形成

IP互联网采用面向非连接的互联网解决方案

路由器自治：各个路由器独立对待每个IP数据报

路由器为每个IP数据报选择它所认为的最佳路径

什么设备需要具备路由选择功能？

>  主机、路由器、多宿主主机

# 直接投递和间接投递

源IP地址和目的IP地址网络前缀不同时，需要经过多次间接投递和一次直接投递才能到达目的地。

若源IP地址与目的IP地址网络前缀相同，那么这IP数据包只需要一次直接投递就能到达目的地。

# 表驱动IP选路的基本思想

在需要路由选择的设备中保存一张IP路由表

IP路由表存储着有关可能的目的地址及怎样到达目的地址的信息

在转发IP数据报时，查询IP路由表，决定把数据报发往何处

# 路由表中的目的地址如何表示？

大型互联网中有可能存在成千上万台主机

路由表中不可能包括所有目的主机的地址信息

- 内存资源占用巨大

- 路由表搜索时间很长

隐藏主机信息

IP地址：网络号（netid）和主机号（hostid）

IP路由表中保存相关的目的网络信息

# 基本路由选择算法

下一站选路的基本思想：路由表仅指定从该路由器到目的地路径上的下一步，而该路由器并不知道到达目的地的完整路径

标准的IP路由表包含许多（N,R）对序偶

- N：目的网络IP地址（使用目的主机IP地址的较少）

- R：到N路径上的“下一个”路由器的IP地址

# 路由聚合

- 使用无类别IP地址，可对大块的IP地址进行多层次划分
- 小型网络的增多使主干路由器的路由表项迅速膨胀
  - 路由器的存储开销增加
  - 路由查找信息时间增大

# 最长匹配原则

- 路由聚合不限定内部的所有网络必须通过同一本地路由器连入互联网

- 网络前缀越长，代表网络越具体
- 路由选择中，如果存爱多个到达同一目的网络的路由时，坚持选择网络前缀长度最长的表项，以获得投递最佳效果的原则

# 特殊路由表项

默认路由

- 路由表未明确指明一条到达目的网络的路由，就将数据报转发到默认路由指定的路由器
- 主要目的：缩短路由表的长度、减少路由计算时间
- 前缀0.0.0.0 掩码0.0.0.0

特定主机路由

- 对单个主机指定一条特别的路径
- 主要目的：增强安全性、进行网络连通性调试和判断路由表的正确性
- 前缀-主机地址、掩码255.255.255.255

# 无类别域间路由

CIDR：适合无类IP地址分配、遵循最长匹配原则的路由选择算法

主机路由：如存在，则为最优路由

默认路由：如存在，会在没有其它路由时使用
