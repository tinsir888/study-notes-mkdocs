---
title: 网络技术与应用 第三章 交换与虚拟局域网
author: tinsir888
date: 2021/09/28
cover: /img/nettech.jpg
tags:
  - 笔记
  - 计算机网络
categories:
  - 南开计科
  - 网络技术与应用课程笔记
abbrlink: 1731ebd4
---

# 交换式以太网的提出

## 共享式以太网存在的问题

- 覆盖的地理范围有限
- 网络带宽容量固定
- 不能支持多种速率

## 交换的提出

将集线器换为交换机

# 以太网交换机的工作原理

不仅集线器和计算机可以和交换机连接，而且 Web 服务器和文件服务器也可以和交换机连接

## 以太网交换机的工作过程

端口/ MAC 地址映射表 位于交换机内存中

## 数据转发方式

- 存储转发交换
  - 完整接受并储存数据帧->校验->转发
  - 特点：不转发出错的数据帧，支持多速率，但延迟较长
- 直接交换
  - 检测到目的地址立即转发，不缓存整帧，不检测差错
  - 特点：交换速率快、延迟小，但转发出错帧会浪费带宽，不支持多速率
- 碎片隔离交换
  - 特点：存储转发和直接交换的折中（比存储转发快，比直接交换慢）
  - 检查接收到的数据帧长度是否达到64byte（小于64byte抛弃，大于64byte转发）

## 地址学习

- 建立：通过学习动态建立
  - 向后学习：读取帧的源地址并记录帧进入的端口
  - 只要结点发送信息就能获得它的 MAC 地址与其所在端口的对应关系
- 维护：通过计时器保持表项的“新鲜”
  - 计时器一处之前没有两次捕获到该端口与 MAC 地址的对应关系，该表项将被删除
  - 目的：保证地址表精确、可用

## 通信过滤

- 通信过滤：交换机基于帧的目的地址做出是否转发或转发到何处的决定
- ==如果在 MAC 地址转换表中找不到，需要交换机向所有端口转发==（溢出）

## 生成数协议

- 集线器级联（不能出现环路），因为会导致相当长时间内信息无休止循环，造成网络瘫痪
  - 生成数协议（Spanning Tree Protocol）
  - 逻辑上行成一种树形级联结构

# 虚拟局域网

- 虚拟局域网
  - 将局域网上的用户或结点划分成若干个“逻辑工作组”
  - 逻辑组的用户或结点可以根据功能、部门、应用等因素划分而无需考虑它们所处的物理位置
- VLAN 的核心设备：交换机
  - 交换机的端口可以分配给一个 VLAN
  - 分配给一个 VLAN 的端口共享广播域
  - 分配给不同 VLAN 的端口不共享广播域

## 对比共享式以太网核 VLAN

- 共享式以太网
  - 同一个部门的终端连入同一个共享式集线器
  - 不同部门的终端有较少的通信需求
- 所有终端直接连接（不同的）以太网交换机
  - 处在同一个 VLAN 下的终端才可通信

VLAN 的好处：不是通过物理的连接组成，而是对交换机进行设置。

## VLAN 的划分方法

### 静态 VLAN 划分法

- 管理员**静态地**将端口分配給某个VLAN，从而把终端系统划分为不同的部分，实现不同逻辑组的相互隔离
- 端口之间的关系需要管理员设定
- 最实用、最常用的 VLAN 划分方法
- 配置简单、可直接监控、安全性好
- 适用环境：终端设备位置和逻辑分组相对稳定

### 动态 VLAN 划分法

- 根据互联层协议、地址等定义 VLAN 成员
- 特点：需要读取和分析高层协议信息，交换和转发速率会受一定影响

# VLAN 优点

- 减少网络管理开销
- 控制广播活动
- 提供较好的网络安全性

- 利用现有的集线器节省开支